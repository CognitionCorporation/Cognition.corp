<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<link rel="icon" type="image/png" href="images/logo.png"/>
	<link rel="stylesheet" type="text/css" href="AngularJS/angularjs-slider/dist/rzslider.css"/>
	<link rel="stylesheet" type="text/css" href="frontEnd/userControls.css">
	<link rel="stylesheet" type="text/css" href="frontEnd/views.css">
	<link rel="stylesheet" type="text/css" href="frontEnd/details.css">
	<link rel="stylesheet" type="text/css" href="frontEnd/stylesheet.css">
	<title>Cognition Corp</title>
	
	<script>
	/*
	@license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt
	
	Copyright (C) 2016 LucFauvel and SabineWren
	
	GNU AFFERO GENERAL PUBLIC LICENSE Version 3, 19 November 2007
	https://www.gnu.org/licenses/agpl-3.0.html
	
	@license-end
	*/
	</script>
</head>

	<!-- ****************************************************************************************************************** -->

<body ng-app="FrontEndApp">
	<header>
		<img id="coglogo" src="frontEnd/images/logo.gif" alt="cog logo"/>
		<h3 style="text-align: right; color: red;">Click on an Organization to View Details</h3>
	</header>
	<!-- ***************************************************************************************************** -->
	<!-- User Controls -->
	<div ng-controller="CheckboxController">
	<div ng-show="StateUI.Controls" class="checkboxMainBlock">
		<div class="checkboxCategories">
		<!-- see /data/Checkboxes.json for which index is which -->
			<div class="columnLeft">
				<div ng-repeat="checkboxModel in checkboxModels" ng-if="$index > 0">
					<print-checkbox></print-checkbox>
				</div>
			</div>
			<div class="columnRight">
				<print-checkbox ng-repeat="checkboxModel in checkboxModels" ng-if="$index == 0"></print-checkbox>
				<label class="checkboxCategories" id="Cog">
					<h3>Cognition Corp</h3>
					<input type="checkbox" ng-model="Cog" />
					<span ng-class="{highlight: ch, unhighlight: !ch}" ng-mouseenter="ch=true" ng-mouseleave="ch=false">Cognition Corp Member</span>
				</label>
			</div>
			<!-- Extra Filter Options-->
			<div class="other-filters">
				<div id="first-layer">
					<div id="filter-name-SID">
						Enter a Name or SID:
						<input class=filter type="text" ng-model="filterName"><br><br>
						Min Size: <input type="number" ng-model="slider_bar_min.value">
						<span ng-hide="slider_bar_min.value > 1">Any</span>
						<span ng-show="slider_bar_min.value > 1">{{ slider_bar_min.value }}</span>
					</div>
					<div class="filter-button">
						<input type="button" class="apply-reset" ng-click="reapplyFilters()" value="Apply Filters"/>
						<input type="button" class="apply-reset" ng-click="resetFilters()" value="Reset Filters"/>
					</div>
				</div>
				<rzslider rz-slider-model="slider_bar_min.value" rz-slider-options="slider_bar_min.options">
				</rzslider>
				<div id="second-layer">
					<div id="max-size">
						Max Size: <input type="number" ng-model="slider_bar_max.value">
						<span ng-hide="slider_bar_max.value > 0">Any</span>
						<span ng-show="slider_bar_max.value > 0">{{ slider_bar_max.value }}</span>
					</div>
					<div id="language">
						Language:
						<select ng-model="language">
							<option value="Any" style="display: none;"> -- Any --</option>
							<option ng-repeat="lang in langs">{{ lang }}</option>
						</select>
					</div>
				</div>
				<rzslider rz-slider-model="slider_bar_max.value" rz-slider-options="slider_bar_max.options">
				</rzslider>
				<span class="filter-buttons">
					<input ng-show="loadStatus.listViewTF" type="button" ng-click="toggleView()" value="Enable Grid View"/>
					<input ng-hide="loadStatus.listViewTF" type="button" ng-click="toggleView()" value="Enable List View"/>
				</span>
			</div>
		</div>
	</div>
	</div>
	
	<div ng-controller="DetailsController">
		<div ng-show="StateUI.Details" class="details-view">
			<h1 id="org-details"><a ng-href="{{ rowData.result.URL }}" target="_blank">{{ rowData.result.Name }} <span style="color: orange;">(URL)</span></a></h1>
			<br>
			<h3 id="chart-title">Organization Growth</h3>
			<canvas id="bar" class="chart chart-line"
				chart-data="chartData.plots" chart-labels="labels"> chart-series="series"
			</canvas>
			<input type="button" value="Show Controls" ng-click="exitDetails()" />
		</div>
	</div>
	
	<!-- ***************************************************************************************************** -->
	<!-- List View -->
	<div ng-controller="ViewController" class="list-view">
		<div ng-show="loadStatus.listViewTF" class="listViewResults">
			<table>
			<thead align="left"><tr id="first">
				<th><div id="SID"><br>SID</div></th>
				<th ng-show="sortstatus.nameDouble"     ng-click="clickName()"><div id="Name"><span class="arrows">&#8646</span><br>Name</div></th>
				<th ng-show="sortstatus.nameAscending"  ng-click="clickName()"><div id="Name"><span class="arrows">&and;</span><br>Name</div></th>
				<th ng-show="sortstatus.nameDescending" ng-click="clickName()"><div id="Name"><span class="arrows">&or;</span><br>Name</div></th>
				<th><div id="Icon"><br>Icon</div></th>
				<th ng-show="sortstatus.sizeDouble"     ng-click="clickSize()"><div id="Size"><span class="arrows">&#8646</span><br>Size</div></th>
				<th ng-show="sortstatus.sizeAscending"  ng-click="clickSize()"><div id="Size"><span class="arrows">&and;</span><br>Size</div></th>
				<th ng-show="sortstatus.sizeDescending" ng-click="clickSize()"><div id="Size"><span class="arrows">&or;</span><br>Size</div></th>
				<th><div id="Commitment"><br>Commit</div></th>
				<th><div id="Archetype"><br>Archetype</div></th>
				<th></th>
				<th><div id="Primary"><br>Primary</div></th>
				<th></th>
				<th><div id="Secondary"><br>Secondary</div></th>
				<th><div id="Recruiting"><br>Recruit</div></th>
				<th><div id="Language"><br>Language</div></th>
				<th><div id="Roleplay"><br>Roleplay</div></th>
			</tr></thead>
			<tr ng-repeat="result in orgResults.results">
			<!-- Yes, the most practical way to turn a table row into a link is to apply a link to every celly individually -->
				<td><div id="SID"        ng-click="loadDetails(result)">{{ result.SID }}</div></td>
				<td><div id="Name"       ng-click="loadDetails(result)">{{ result.Name }}</div></td>
				<td><div id="Icon"       ng-click="loadDetails(result)"><img class=icon ng-src="{{ result.Icon }}"></div></td>
				<td><div id="Size"       ng-click="loadDetails(result)">{{ result.Members }}</div></td>
				<td><div id="Commitment" ng-click="loadDetails(result)">{{ result.Commitment }}</div></td>
				<td><div id="Archetype"  ng-click="loadDetails(result)">{{ result.Archetype }}</div></td>
				<td><div                 ng-click="loadDetails(result)"><img class=icon ng-src="{{ result.PrimaryIcon }}"></div></td>
				<td><div id="Primary"    ng-click="loadDetails(result)">{{ result.PrimaryFocus }}</div></td>
				<td><div                 ng-click="loadDetails(result)"><img class=icon ng-src="{{ result.SecondaryIcon }}"></div></td>
				<td><div id="Secondary"  ng-click="loadDetails(result)">{{ result.SecondaryFocus }}</div></td>
				<td><div id="Recruiting" ng-click="loadDetails(result)">{{ result.Recruiting }}</div></td>
				<td><div id="Language"   ng-click="loadDetails(result)">{{ result.Language }}</div></td>
				<td><div id="Roleplay"   ng-click="loadDetails(result)">{{ result.Roleplay }}</div></td>
			</tr>
			</table>
		</div>
		<!-- ***************************************************************************************************** -->
		<!-- Grid View -->
		<div ng-hide="loadStatus.listViewTF" class="gridViewResults">
			<div class=cell ng-repeat="result in orgResults.results">
				<figcaption>
					{{ result.Name }}
				</figcaption>
				<img class=gridIcon ng-src="{{ result.Icon }}"></a>
				<figcaption>
					{{ result.PrimaryFocus }}, {{ result.SecondaryFocus }}<br>
					Member Count: {{ result.Members }}
				</figcaption>
			</div>
		</div>
		<div>
			<input class="loadButton" ng-hide="loadStatus.isLoading" type="button" value="Load More Results"ng-click="loadMoreOrgs()" />
			<input class="loadButton" ng-show="loadStatus.isLoading" type="button" value="loading..." />
		</div>
		<div class="footer"></div>
	</div>
	
	<!-- ***************************************************************************************************** -->
	<!-- License Information -->
	<div>
		<p id="licenses"><a href="jslicense.html" data-jslicense="1">License Information</a></p>
	</div>
	<!-- *********************************************************************************** -->
	
	<!-- Include AngularJS -->
	<script src="AngularJS/angular/angular.min.js"></script>
	
	<!-- Modules -->
	<script src="frontEnd/js/FrontEndModule.js"></script>

	<!-- Controllers -->
	<script src="frontEnd/js/controllers/CheckboxController.js"></script>
	<script src="frontEnd/js/controllers/ViewController.js"></script>
	<script src="frontEnd/js/controllers/DetailsController.js"></script>

	<!-- Services -->
	<script src="frontEnd/js/services/GlobalStateUI.js"></script>
	<script src="frontEnd/js/services/LoadViewService.js"></script>
	<script src="frontEnd/js/services/LoadDetailsService.js"></script>
		
	<!-- Directives -->
	<script src="frontEnd/js/directives/printCheckbox.js"></script>
	<script src="AngularJS/angularjs-slider/src/rzslider.js"></script>
	<script src="AngularJS/angular-chart.js/node_modules/chart.js/dist/Chart.min.js"></script>
	<script src="AngularJS/angular-chart.js/dist/angular-chart.min.js"></script>
	
</body>
</html>
	 		
